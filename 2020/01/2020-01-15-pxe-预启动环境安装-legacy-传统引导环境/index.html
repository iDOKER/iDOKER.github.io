<!DOCTYPE html>
<html lang="zh">
  <head>
    <title>
        PXE é¢„å¯åŠ¨ç¯å¢ƒå®‰è£… - Legacy ä¼ ç»Ÿå¼•å¯¼ç¯å¢ƒ - Stan&#39;s blog - Explore the world
      </title>
        <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
    <meta name="renderer" content="webkit">
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    
    <meta name="theme-color" content="#000000" />
    
    <meta http-equiv="window-target" content="_top" />
    
    
    <meta name="description" content="ğŸ‘Œ 2020-01-15 PXE é¢„å¯åŠ¨ç¯å¢ƒå®‰è£… - Legacy ä¼ ç»Ÿå¼•å¯¼ç¯å¢ƒ FileInfo Filename - PXE Legacy Boot Configure Guide.md Version - v1.3.2001ï¼ˆ2020/01/13 ~ 2020/01/28ï¼‰ Author - standuke Email - shadowdoker@gmail.com DescriptionKey - PXE Boot" />
    <meta name="generator" content="Hugo 0.82.1 with theme pure" />
    <title>PXE é¢„å¯åŠ¨ç¯å¢ƒå®‰è£… - Legacy ä¼ ç»Ÿå¼•å¯¼ç¯å¢ƒ - Stan&#39;s blog - Explore the world</title>
    
    
    <link rel="stylesheet" href="https://blog.standuke.top/css/style.min.6f90022f237877ae2514ec95f3c9cca9f2314394f20800ca037a497e20053122.css">
    
    <link rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/9.15.10/styles/github.min.css" async>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css" async>
    <meta property="og:title" content="PXE é¢„å¯åŠ¨ç¯å¢ƒå®‰è£… - Legacy ä¼ ç»Ÿå¼•å¯¼ç¯å¢ƒ" />
<meta property="og:description" content="ğŸ‘Œ 2020-01-15 PXE é¢„å¯åŠ¨ç¯å¢ƒå®‰è£… - Legacy ä¼ ç»Ÿå¼•å¯¼ç¯å¢ƒ FileInfo Filename - PXE Legacy Boot Configure Guide.md Version - v1.3.2001ï¼ˆ2020/01/13 ~ 2020/01/28ï¼‰ Author - standuke Email - shadowdoker@gmail.com DescriptionKey - PXE Boot" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog.standuke.top/2020/01/2020-01-15-pxe-%E9%A2%84%E5%90%AF%E5%8A%A8%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85-legacy-%E4%BC%A0%E7%BB%9F%E5%BC%95%E5%AF%BC%E7%8E%AF%E5%A2%83/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-01-15T17:48:47&#43;08:00" />
<meta property="article:modified_time" content="2020-01-15T17:48:47&#43;08:00" />

<meta itemprop="name" content="PXE é¢„å¯åŠ¨ç¯å¢ƒå®‰è£… - Legacy ä¼ ç»Ÿå¼•å¯¼ç¯å¢ƒ">
<meta itemprop="description" content="ğŸ‘Œ 2020-01-15 PXE é¢„å¯åŠ¨ç¯å¢ƒå®‰è£… - Legacy ä¼ ç»Ÿå¼•å¯¼ç¯å¢ƒ FileInfo Filename - PXE Legacy Boot Configure Guide.md Version - v1.3.2001ï¼ˆ2020/01/13 ~ 2020/01/28ï¼‰ Author - standuke Email - shadowdoker@gmail.com DescriptionKey - PXE Boot"><meta itemprop="datePublished" content="2020-01-15T17:48:47&#43;08:00" />
<meta itemprop="dateModified" content="2020-01-15T17:48:47&#43;08:00" />
<meta itemprop="wordCount" content="4744">
<meta itemprop="keywords" content="CentOS,PXE," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="PXE é¢„å¯åŠ¨ç¯å¢ƒå®‰è£… - Legacy ä¼ ç»Ÿå¼•å¯¼ç¯å¢ƒ"/>
<meta name="twitter:description" content="ğŸ‘Œ 2020-01-15 PXE é¢„å¯åŠ¨ç¯å¢ƒå®‰è£… - Legacy ä¼ ç»Ÿå¼•å¯¼ç¯å¢ƒ FileInfo Filename - PXE Legacy Boot Configure Guide.md Version - v1.3.2001ï¼ˆ2020/01/13 ~ 2020/01/28ï¼‰ Author - standuke Email - shadowdoker@gmail.com DescriptionKey - PXE Boot"/>

    <!--[if lte IE 9]>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
      <![endif]-->

    <!--[if lt IE 9]>
        <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
      <![endif]-->
  </head>

  
  

  <body class="main-center theme-black" itemscope itemtype="http://schema.org/WebPage"><header class="header" itemscope itemtype="http://schema.org/WPHeader">
    <div class="slimContent">
      <div class="navbar-header">
        <div class="profile-block text-center">
          <a id="avatar" href="https://www.standuke.top" target="_blank">
            <img class="img-circle img-rotate" src="https://blog.standuke.top/avatar.png" width="200" height="200">
          </a>
          <h2 id="name" class="hidden-xs hidden-sm">Standuke</h2>
          <h3 id="title" class="hidden-xs hidden-sm hidden-md">Yunshen Technology Co., Ltd. - SRE Engineer</h3>
          <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i>Hangzhou, China</small>
        </div><div class="search" id="search-form-wrap">
    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="æœç´¢" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i
                        class="icon icon-search"></i></button>
            </span>
        </div>
        <div class="ins-search">
            <div class="ins-search-mask"></div>
            <div class="ins-search-container">
                <div class="ins-input-wrapper">
                    <input type="text" class="ins-search-input" placeholder="æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ..."
                        x-webkit-speech />
                    <button type="button" class="close ins-close ins-selectable" data-dismiss="modal"
                        aria-label="Close"><span aria-hidden="true">Ã—</span></button>
                </div>
                <div class="ins-section-wrapper">
                    <div class="ins-section-container"></div>
                </div>
            </div>
        </div>
    </form>
</div>
        <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
      </div>
      <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
        <ul class="nav navbar-nav main-nav">
            <li class="menu-item menu-item-home">
                <a href="/">
                    <i class="icon icon-home-fill"></i>
                  <span class="menu-title">Home</span>
                </a>
            </li>
            <li class="menu-item menu-item-archives">
                <a href="/posts/">
                    <i class="icon icon-archives-fill"></i>
                  <span class="menu-title">Archives</span>
                </a>
            </li>
            <li class="menu-item menu-item-categories">
                <a href="/categories/">
                    <i class="icon icon-folder"></i>
                  <span class="menu-title">Categories</span>
                </a>
            </li>
            <li class="menu-item menu-item-tags">
                <a href="/tags/">
                    <i class="icon icon-tags"></i>
                  <span class="menu-title">Tags</span>
                </a>
            </li>
            <li class="menu-item menu-item-about">
                <a href="/about/">
                    <i class="icon icon-cup-fill"></i>
                  <span class="menu-title">About</span>
                </a>
            </li>
            <li class="menu-item menu-item-linkedin">
                <a href="https://linkedin.com/in/doc-s-44435ab2">
                    <i class="icon icon-linkedin"></i>
                  <span class="menu-title">Linkedin</span>
                </a>
            </li>
        </ul>
      </nav>
    </div>
  </header>

<aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">å…¬å‘Š</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content"><p>ç«™ç‚¹è¿ç§»åˆæœŸï¼Œé…ç½®å‚æ•°è°ƒæ•´ï¼ŒåŒæ—¶æ¶‰åŠåˆ°çš„æ–‡ç« è¾ƒå¤šï¼Œé¡µé¢æµè§ˆå¯èƒ½ä¼šå‡ºç°é—ªæ–­ã€‚å› ä¸ºæ˜¯ä¸šä½™æ—¶é—´è¿ç§»åšå®¢ï¼Œä» 5 æœˆå¼€å§‹ä¼°è®¡è¦åˆ°å¹´åº•æ‰èƒ½æŠŠå‰æœŸçš„æ–‡ç« æ•´ä½“è¿ç§»è¿‡æ¥ã€‚åšå®¢è¯„è®ºé‡‡ç”¨ Disqus éœ€è¦ç§‘å­¦æ‰èƒ½çœ‹åˆ°ï¼Œå¦‚æœæœ‰ä»»ä½•æ„è§å»ºè®®ä¹Ÿå¯ç›´æ¥è”ç³»æˆ‘ Telegramã€‚</p>
            </div>
        </div>
    </div>
</div>

      <div class="widget">
    <h3 class="widget-title"> æ ‡ç­¾</h3>
    <div id="tag-cloud-list" class="widget-body">
            
            
            <a href="https://blog.standuke.top/tags/aliyun/" class="tag-list-link" rel="1">aliyun<span
               class="tag-list-count">1</span></a>
            
            
            <a href="https://blog.standuke.top/tags/bigdata/" class="tag-list-link" rel="1">bigdata<span
               class="tag-list-count">1</span></a>
            
            
            <a href="https://blog.standuke.top/tags/cdh/" class="tag-list-link" rel="1">cdh<span
               class="tag-list-count">1</span></a>
            
            
            <a href="https://blog.standuke.top/tags/centos/" class="tag-list-link" rel="8">centos<span
               class="tag-list-count">8</span></a>
            
            
            <a href="https://blog.standuke.top/tags/cloudera/" class="tag-list-link" rel="1">cloudera<span
               class="tag-list-count">1</span></a>
            
            
            <a href="https://blog.standuke.top/tags/docker/" class="tag-list-link" rel="1">docker<span
               class="tag-list-count">1</span></a>
            
            
            <a href="https://blog.standuke.top/tags/eip/" class="tag-list-link" rel="1">eip<span
               class="tag-list-count">1</span></a>
            
            
            <a href="https://blog.standuke.top/tags/esxi/" class="tag-list-link" rel="1">esxi<span
               class="tag-list-count">1</span></a>
            
            
            <a href="https://blog.standuke.top/tags/frp/" class="tag-list-link" rel="1">frp<span
               class="tag-list-count">1</span></a>
            
            
            <a href="https://blog.standuke.top/tags/kvm/" class="tag-list-link" rel="1">kvm<span
               class="tag-list-count">1</span></a>
            
            
            <a href="https://blog.standuke.top/tags/linux/" class="tag-list-link" rel="5">linux<span
               class="tag-list-count">5</span></a>
            
            
            <a href="https://blog.standuke.top/tags/linux-bridge/" class="tag-list-link" rel="1">linux-bridge<span
               class="tag-list-count">1</span></a>
            
            
            <a href="https://blog.standuke.top/tags/macos/" class="tag-list-link" rel="2">macos<span
               class="tag-list-count">2</span></a>
            
            
            <a href="https://blog.standuke.top/tags/markdown/" class="tag-list-link" rel="1">markdown<span
               class="tag-list-count">1</span></a>
            
            
            <a href="https://blog.standuke.top/tags/network/" class="tag-list-link" rel="1">network<span
               class="tag-list-count">1</span></a>
            
            
            <a href="https://blog.standuke.top/tags/openstack/" class="tag-list-link" rel="6">openstack<span
               class="tag-list-count">6</span></a>
            
            
            <a href="https://blog.standuke.top/tags/pxe/" class="tag-list-link" rel="1">pxe<span
               class="tag-list-count">1</span></a>
            
            
            <a href="https://blog.standuke.top/tags/qcow2/" class="tag-list-link" rel="1">qcow2<span
               class="tag-list-count">1</span></a>
            
            
            <a href="https://blog.standuke.top/tags/system/" class="tag-list-link" rel="1">system<span
               class="tag-list-count">1</span></a>
            
            
            <a href="https://blog.standuke.top/tags/time-machine/" class="tag-list-link" rel="1">time-machine<span
               class="tag-list-count">1</span></a>
            
            
            <a href="https://blog.standuke.top/tags/tools/" class="tag-list-link" rel="1">tools<span
               class="tag-list-count">1</span></a>
            
            
            <a href="https://blog.standuke.top/tags/vcenter/" class="tag-list-link" rel="1">vcenter<span
               class="tag-list-count">1</span></a>
            
            
            <a href="https://blog.standuke.top/tags/virtualization/" class="tag-list-link" rel="9">virtualization<span
               class="tag-list-count">9</span></a>
            
            
            <a href="https://blog.standuke.top/tags/vsphere/" class="tag-list-link" rel="1">vsphere<span
               class="tag-list-count">1</span></a>
            
            
            <a href="https://blog.standuke.top/tags/windows/" class="tag-list-link" rel="4">windows<span
               class="tag-list-count">4</span></a>
            
    </div>
<script>
document.onreadystatechange = () => {
  if (document.readyState === 'complete') {
    tagCloud('#tag-cloud-list a',  8 ,  20 );
  }
};

function tagCloud(where, min, max) {
  let iMax = 0;
  let iMin = 0;
  $(where).each(function() {
    let weight = Number($(this).attr("rel"));
    if(iMax < weight) iMax = weight;
    if(iMin > weight || iMin == 0) iMin = weight;
  });
  let step = (max - min)/(iMax - iMin);
  $(where).each(function() {
    let weight = $(this).attr("rel") - iMin;
    $(this).css({"font-size": min + (weight * step) + 'px'});
  });
};
</script>
</div>

      <div class="widget">
    <h3 class="widget-title"> åˆ†ç±»</h3>
    <div class="widget-body">
        <ul class="category-list">
            <li class="category-list-item"><a href="https://blog.standuke.top/categories/%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/" class="category-list-link">ä½¿ç”¨æ•™ç¨‹</a><span class="category-list-count">3</span></li>
            <li class="category-list-item"><a href="https://blog.standuke.top/categories/%E5%86%85%E9%83%A8%E5%88%86%E4%BA%AB/" class="category-list-link">å†…éƒ¨åˆ†äº«</a><span class="category-list-count">3</span></li>
            <li class="category-list-item"><a href="https://blog.standuke.top/categories/%E6%8A%80%E6%9C%AF%E5%88%86%E6%9E%90/" class="category-list-link">æŠ€æœ¯åˆ†æ</a><span class="category-list-count">1</span></li>
            <li class="category-list-item"><a href="https://blog.standuke.top/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" class="category-list-link">æ“ä½œç³»ç»Ÿ</a><span class="category-list-count">7</span></li>
            <li class="category-list-item"><a href="https://blog.standuke.top/categories/%E9%83%A8%E7%BD%B2%E6%95%99%E7%A8%8B/" class="category-list-link">éƒ¨ç½²æ•™ç¨‹</a><span class="category-list-count">10</span></li>
            <li class="category-list-item"><a href="https://blog.standuke.top/categories/%E9%9B%B6%E7%A2%8E%E5%B0%8F%E9%97%AE%E9%A2%98/" class="category-list-link">é›¶ç¢å°é—®é¢˜</a><span class="category-list-count">4</span></li>
        </ul>
    </div>
</div>
      
<div class="widget">
    <h3 class="widget-title">æœ€æ–°æ–‡ç« </h3>
    <div class="widget-body">
        <ul class="recent-post-list list-unstyled no-thumbnail">
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="https://blog.standuke.top/2021/07/2021-07-06-linux-%E5%AE%9A%E6%97%B6%E5%8D%95%E6%AC%A1%E5%8F%8A%E5%91%A8%E6%9C%9F%E4%BB%BB%E5%8A%A1/" class="title">Linux å®šæ—¶å•æ¬¡åŠå‘¨æœŸä»»åŠ¡</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2021-07-06 17:20:34 &#43;0800 CST" itemprop="datePublished">2021-07-06</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="https://blog.standuke.top/2021/06/2021-06-26-linux-%E6%97%B6%E9%97%B4%E5%85%A8%E8%A7%A3/" class="title">Linux æ—¶é—´å…¨è§£</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2021-06-26 11:11:31 &#43;0800 CST" itemprop="datePublished">2021-06-26</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="https://blog.standuke.top/2021/05/2021-05-19-%E9%98%BF%E9%87%8C%E4%BA%91%E4%B8%BB%E6%9C%BA-eip-%E8%87%B4%E4%BD%BF-ftp-%E6%97%A0%E6%B3%95%E8%BF%9E%E6%8E%A5/" class="title">é˜¿é‡Œäº‘ä¸»æœº EIP è‡´ä½¿ FTP æ— æ³•è¿æ¥</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2021-05-19 21:08:48 &#43;0800 CST" itemprop="datePublished">2021-05-19</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="https://blog.standuke.top/2021/05/2021-05-08-openstack-wallaby-%E9%83%A8%E7%BD%B24-%E5%AE%89%E7%BD%AE%E6%9C%8D%E5%8A%A1-placement/" class="title">OpenStack Wallaby éƒ¨ç½²4 å®‰ç½®æœåŠ¡ Placement</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2021-05-08 17:01:11 &#43;0800 CST" itemprop="datePublished">2021-05-08</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="https://blog.standuke.top/2021/05/2021-05-08-openstack-wallaby-%E9%83%A8%E7%BD%B23-%E9%95%9C%E5%83%8F%E6%9C%8D%E5%8A%A1-glance/" class="title">OpenStack Wallaby éƒ¨ç½²3 é•œåƒæœåŠ¡ Glance</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2021-05-08 16:54:55 &#43;0800 CST" itemprop="datePublished">2021-05-08</time>
                    </p>
                </div>
            </li>
        </ul>
    </div>
</div>
  </div>
</aside>

    
    
<aside class="sidebar sidebar-toc collapse" id="collapseToc" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    <h4 class="toc-title">æ–‡ç« ç›®å½•</h4>
    <nav id="toc" class="js-toc toc">

    </nav>
  </div>
</aside>
<main class="main" role="main"><div class="content">
  <article id="-" class="article article-type-" itemscope
    itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      <h1 itemprop="name">
  <a
    class="article-title"
    href="/2020/01/2020-01-15-pxe-%E9%A2%84%E5%90%AF%E5%8A%A8%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85-legacy-%E4%BC%A0%E7%BB%9F%E5%BC%95%E5%AF%BC%E7%8E%AF%E5%A2%83/"
    >PXE é¢„å¯åŠ¨ç¯å¢ƒå®‰è£… - Legacy ä¼ ç»Ÿå¼•å¯¼ç¯å¢ƒ</a
  >
</h1>

      <div class="article-meta">
        
<span class="article-date">
  <i class="icon icon-calendar-check"></i>&nbsp;
<a href="https://blog.standuke.top/2020/01/2020-01-15-pxe-%E9%A2%84%E5%90%AF%E5%8A%A8%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85-legacy-%E4%BC%A0%E7%BB%9F%E5%BC%95%E5%AF%BC%E7%8E%AF%E5%A2%83/" class="article-date">
  <time datetime="2020-01-15 17:48:47 &#43;0800 CST" itemprop="datePublished">2020-01-15</time>
</a>
</span>
<span class="article-category">
  <i class="icon icon-folder"></i>&nbsp;
  <a class="article-category-link" href="/categories/%E9%83%A8%E7%BD%B2%E6%95%99%E7%A8%8B/"> éƒ¨ç½²æ•™ç¨‹ </a>
</span>  
  <span class="article-tag">
    <i class="icon icon-tags"></i>&nbsp;
    <a class="article-tag-link" href="/tags/centos/"> CentOS </a>
    <a class="article-tag-link" href="/tags/pxe/"> PXE </a>
  </span>

	<span class="article-read hidden-xs">
	    <i class="icon icon-eye-fill" aria-hidden="true"></i>
	    <span id="busuanzi_container_page_pv">
			<span id="busuanzi_value_page_pv">0</span>
		</span>
	</span>
        <span class="post-comment"><i class="icon icon-comment"></i>&nbsp;<a href="/2020/01/2020-01-15-pxe-%E9%A2%84%E5%90%AF%E5%8A%A8%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85-legacy-%E4%BC%A0%E7%BB%9F%E5%BC%95%E5%AF%BC%E7%8E%AF%E5%A2%83/#comments"
            class="article-comment-link">è¯„è®º</a></span>
		<span class="post-wordcount hidden-xs" itemprop="wordCount">å­—æ•°ç»Ÿè®¡: 4744å­—</span>
		<span class="post-readcount hidden-xs" itemprop="timeRequired">é˜…è¯»æ—¶é•¿: 10åˆ† </span>
      </div>
    </div>
    <div class="article-entry marked-body js-toc-content" itemprop="articleBody">
      <h1 id="-2020-01-15-pxe-é¢„å¯åŠ¨ç¯å¢ƒå®‰è£…---legacy-ä¼ ç»Ÿå¼•å¯¼ç¯å¢ƒ">ğŸ‘Œ 2020-01-15 PXE é¢„å¯åŠ¨ç¯å¢ƒå®‰è£… - Legacy ä¼ ç»Ÿå¼•å¯¼ç¯å¢ƒ</h1>
<blockquote>
<p><strong>FileInfo</strong>
Filename - PXE Legacy Boot Configure Guide.md
Version - v1.3.2001ï¼ˆ2020/01/13 ~ 2020/01/28ï¼‰
Author - standuke
Email - <a href="mailto:shadowdoker@gmail.com">shadowdoker@gmail.com</a>
DescriptionKey - PXE Boot with multi-system Configure Guide</p>
</blockquote>
<h4 id="æœ¬æ–‡çº¦å®š">æœ¬æ–‡çº¦å®š</h4>
<p>åœ¨æ–‡ä¸­å°†æœ‰ä»¥ä¸‹æç¤ºç¬¦å¯¹é‡ç‚¹è¿›è¡Œæ ‡æ³¨è¯´æ˜ï¼Œè¯·æ³¨æ„æ–‡ä¸­æç¤ºã€‚</p>
<p>âš ï¸ - æ–‡ä¸­å‡ºç°æ­¤æ ‡è®°ï¼Œä»£è¡¨é‡è¦æç¤ºï¼ŒæŒ‡éœ€è¦æ ¼å¤–æ³¨æ„çš„åœ°æ–¹
ğŸ”˜ - æ–‡ä¸­å‡ºç°æ­¤æ ‡è®°ï¼Œä»£è¡¨å¯é€‰é…ç½®ï¼Œå»ºè®®é…ç½®ï¼Œä½†ä¸å¿…è¦
âœ… - æ–‡ä¸­å‡ºç°æ­¤æ ‡è®°ï¼Œä»£è¡¨æ£€æŸ¥é¡¹ç›®ï¼Œéœ€è¦æ£€æŸ¥å¯¹åº”çš„é…ç½®æ–‡ä»¶
â—ï¸ - æ–‡ä¸­å‡ºç°æ­¤æ ‡è®°ï¼Œä»£è¡¨è¯¥æ“ä½œä¸å¯éšæ„ä¿®æ”¹ï¼Œå¦‚æ›´æ”¹æ­¤æ­¥æ“ä½œï¼Œè¯·é¢„å…ˆæµ‹è¯•</p>
<h2 id="pxe-ç®€ä»‹">PXE ç®€ä»‹</h2>
<p>PXE ( Preboot Excution Environment ) é¢„å¯åŠ¨æ‰§è¡Œç¯å¢ƒï¼Œç”± Intel å…¬å¸ç ”å‘åŸºäº Client/Server çš„ç½‘ç»œæ¨¡å¼ï¼Œè¿œç¨‹ä¸»æœºå¯é€šè¿‡ç½‘ç»œä»è¿œç«¯æœåŠ¡å™¨ä¸‹è½½ç³»ç»Ÿæ˜ åƒï¼Œå¹¶ç”±æ­¤æ”¯æŒé€šè¿‡ç½‘ç»œå¯åŠ¨æ“ä½œç³»ç»Ÿã€‚PXE å¯ä»¥å¼•å¯¼å’Œå®‰è£… Windowsï¼ŒLinux ç­‰å¤šç§æ“ä½œç³»ç»Ÿã€‚
âš ï¸ PXE ç½‘ç»œè‡ªåŠ¨åŒ–å®‰è£…éœ€è¦æ­å»ºå¦‚ä¸‹ä¸‰ç±»ç³»ç»ŸæœåŠ¡ã€‚</p>
<ul>
<li>DHCP æœåŠ¡å™¨:    æä¾› IP åœ°å€ï¼Œtftp ä½ç½®</li>
<li>ç½‘ç»œç³»ç»Ÿé•œåƒ YUM æºï¼ˆ HTTPã€FTPã€NFS ä¸‰é€‰ä¸€ ï¼‰:    æä¾›ç³»ç»Ÿå®‰è£…æ–‡ä»¶</li>
<li>tftp æœåŠ¡å™¨:    æä¾› bootloader ä»¥åŠå†…æ ¸ä½œä¸ºå¯åŠ¨å¼•å¯¼</li>
</ul>
<p>âš ï¸ PXE æ‰€ä½¿ç”¨çš„æ ¸å¿ƒæ–‡ä»¶æœ‰ä»¥ä¸‹å‡ ä¸ªã€‚</p>
<ul>
<li>vmlinuz:    æ ¸å¿ƒæ–‡ä»¶ï¼ˆkernel fileï¼‰</li>
<li>initrd.img:    å¼€å¯è¿‡ç¨‹ä¸­æ ¸å¿ƒç»„ä»¶çš„å‚æ•°</li>
<li>isolinux.cfg &ndash;&gt; demo:    å¼€æœº PXE é€‰æ‹©å‚è€ƒ</li>
</ul>
<blockquote>
<p>åŸç†ï¼š
ç”± DHCP æœåŠ¡å™¨ï¼Œä½¿æœåŠ¡å™¨å¯åŠ¨æ—¶ï¼Œè·å–åˆ°è‡ªåˆ†é… IPï¼Œåœ¨ DHCP é…ç½®ä¸­æŒ‡å®šäº†å‚æ•° next-Serverï¼Œè¯¥ next-Server æŒ‡å‘ tftp æœåŠ¡å™¨çš„ IPã€‚å¦‚æ­¤æœºå™¨è·å–åˆ° IP åï¼Œä¼šä»æŒ‡å®šçš„ tftp æœåŠ¡å™¨çš„é»˜è®¤è·¯å¾„ <code>/var/lib/tftpboot</code> ä¸‹å»ä¸‹è½½ç›¸å…³çš„æ–‡ä»¶.
é¦–å…ˆæ˜¯åŠ è½½ PXELinux.cfg ç›®å½•ä¸‹çš„ default æ–‡ä»¶ï¼Œè¯¥ default æ–‡ä»¶å°±æ˜¯å®‰è£…æœºå™¨çš„èœå•é€‰é¡¹ï¼Œåœ¨è¿™èœå•é‡Œï¼ŒæŒ‡å®š Kickstart æ–‡ä»¶è·¯å¾„å’Œ <code>/var/lib/tftpboot</code> ä¸‹çš„ initrd.img å’Œ vmlinuz çš„è·¯å¾„ï¼Œä½¿å¾—éœ€è¦å®‰è£…çš„å¯¹åº”ç³»ç»Ÿèƒ½å¤Ÿå¯åŠ¨å¹¶åŠ è½½ kickstart æ–‡ä»¶è¿›è¡Œå®‰è£…ã€‚å®‰è£…åŒ…çš„è·¯å¾„åœ¨ kickstart æ–‡ä»¶ä¸­æŒ‡å®šã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/iDOKER/SupportProj@main/MarkdownPic/2021/2021-05-03_18-21-41_PXE-workflow.png" alt="2021-05-03_18-21-41_PXE-workflow"></p>
<p>âš ï¸ æ³¨æ„ï¼šå…¨ç¨‹ä½¿ç”¨ä¸º UDP å°è£…ï¼Œå›¾ä¸­éƒ¨åˆ†ç®­å¤´æŒ‡å‘æ–¹ä½æœ‰è¯¯</p>
<ol>
<li>Client å‘ PXE Server ä¸Šçš„ DHCP å‘é€ IP åœ°å€è¯·æ±‚æ¶ˆæ¯ï¼ŒDHCP æ£€æµ‹ Client æ˜¯å¦åˆæ³•ï¼ŒåŒæ—¶å°† PXE ç¯å¢ƒä¸‹çš„ boot loader æ–‡ä»¶ PXElinux.0 çš„ä½ç½®ä¿¡æ¯å‘ç»™ Client</li>
<li>Client å‘ PXE Server ä¸Šçš„ tftp è¯·æ±‚ PXELinux.0ï¼Œtftp æ”¶åˆ°æ¶ˆæ¯å‘ Clientå‘é€ PXELinux.0å¤§å°ä¿¡æ¯ï¼Œè¯•æ¢ Client æ˜¯å¦æ»¡æ„ï¼Œå½“ tftp æ”¶åˆ° Client å‘å›çš„ç»Ÿä¸€å¤§å°ä¿¡æ¯åï¼Œå‘é€ PXELinux.0.</li>
<li>Client æ‰§è¡Œæ¥æ”¶åˆ°çš„ PXELinux.0</li>
<li>Client å‘ tftp è¯·æ±‚ PXELinux.cfg æ–‡ä»¶ï¼ˆå…¶å®æ˜¯ç›®å½•ï¼Œé‡Œé¢æ”¾äº†å¯åŠ¨èœå•ï¼Œå³ grub çš„é…ç½®æ–‡ä»¶ï¼‰ï¼Œtftp å°†é…ç½®æ–‡ä»¶å‘å› Clientï¼Œç»§è€Œ Client æ ¹æ®é…ç½®æ–‡ä»¶æ‰§è¡Œåç»­çš„æ“ä½œ</li>
<li>Client å‘ tftp å‘é€ Linux å†…æ ¸è¯·æ±‚ä¿¡æ¯ï¼Œtftp å‘é€å†…æ ¸</li>
<li>Client å‘ tftp å‘é€æ ¹æ–‡ä»¶è¯·æ±‚ä¿¡æ¯ï¼Œ tftp æ¥å—åˆ°æ¶ˆæ¯ä¹‹åè¿”å› Linux æ ¹æ–‡ä»¶ç³»ç»Ÿ</li>
<li>Client åŠ è½½ Linux å†…æ ¸ï¼ˆå¯åŠ¨å‚æ•°å·²ç»åœ¨4ä¸­çš„é…ç½®æ–‡ä»¶ä¸­è®¾ç½®å¥½äº†ï¼‰ã€‚</li>
<li>Client é€šè¿‡ nfs/ftp/http ä¸‹è½½ç³»ç»Ÿå®‰è£…æ–‡ä»¶è¿›è¡Œå®‰è£…ï¼Œå¦‚æœ4ä¸­çš„é…ç½®æ–‡ä»¶æŒ‡å®šäº† Kickstart è·¯å¾„ï¼Œåˆ™å›æ ¹æ®æ­¤æ–‡ä»¶è‡ªåŠ¨åº”ç­”å®‰è£…ç³»ç»Ÿ</li>
</ol>
<h2 id="åŸºç¡€ç¯å¢ƒå‡†å¤‡">åŸºç¡€ç¯å¢ƒå‡†å¤‡</h2>
<p>PXE åŸºç¡€æ“ä½œç³»ç»Ÿç¯å¢ƒ</p>
<ul>
<li>æ“ä½œç³»ç»Ÿ CentOS 7.7 ï¼ˆMinimal Install æœ€å°åŒ–å®‰è£…ï¼‰</li>
<li>æœ¬åœ° YUM æº</li>
<li>å»ºè®®ç½‘ç»œé€Ÿç‡åƒå…†ä»¥ä¸Š</li>
<li>â—ï¸å…³é—­å¹¶ç¦æ­¢å¼€æœºè‡ªå¯å¦‚ä¸‹æœåŠ¡ï¼šç³»ç»Ÿé˜²ç«å¢™ï¼ˆ<code>Firewalld</code>ã€<code>iptables</code>ï¼‰</li>
<li>â—ï¸å…³é—­å¹¶ç¦ç”¨ <code>SELinux</code></li>
<li>â—ï¸PXEç¯å¢ƒä¸‹ DHCP æœåŠ¡ä»…èƒ½å½“å‰ PXE æœåŠ¡å™¨æä¾›ï¼Œâš ï¸ æ³¨æ„æ£€æŸ¥ç¯å¢ƒå†…æ˜¯å¦æœ‰å¦å¤–çš„ DHCP æœåŠ¡å¹²æ‰°</li>
</ul>
<h2 id="å¼€å§‹å®‰è£…">å¼€å§‹å®‰è£…</h2>
<p>å¤§è‡´éƒ¨ç½²é¡ºåºä¸ºï¼šDHCPã€éƒ¨ç½² HTTPã€tftpã€æä¾› bootloader åŠé…ç½®æ–‡ä»¶ã€æŒ‚è½½å…‰ç›˜ï¼ŒæŠŠå†…æ ¸æ–‡ä»¶ cp åˆ° tftp ç›®å½•ï¼Œå¹¶æ”¾ç½®æ–‡ä»¶ã€è®¾ç½®èœå•åŠæä¾›ç³»ç»Ÿå®‰è£…æ–‡ä»¶ã€‚</p>
<h3 id="1-dhcp-æœåŠ¡å™¨">1. DHCP æœåŠ¡å™¨</h3>
<p>DHCP æœåŠ¡å™¨å‘å¾…å®‰è£…æœåŠ¡å™¨åˆ†é… IP åœ°å€ï¼ŒåŒæ—¶æŒ‡å®š tftp æœåŠ¡å™¨çš„åœ°å€ï¼Œä»¥è®©æœåŠ¡å™¨åœ¨è·å¾— IP åœ°å€åå¯å‰å¾€ tftp è·å– bootloader æ–‡ä»¶ã€‚</p>
<p>å®‰è£… DHCP æœåŠ¡</p>
<pre><code class="language-shell">yum install -y dhcp
</code></pre>
<p>ä¿®æ”¹ DHCP æœåŠ¡é…ç½®ï¼ˆ<code>vi /etc/dhcp/dhcp.conf</code>ï¼‰é»˜è®¤ DHCP é…ç½®æ–‡ä»¶ä¸ºç©º</p>
<pre><code class="language-shell"># è®¾ç½®å­ç½‘
subnet 192.168.16.0 netmask 255.255.255.0 {
  range 192.168.16.2 192.168.16.249;
  option subnet-mask 255.255.255.0;
  option routers 192.168.16.254;
  # tftp åœ°å€ä»¥åŠ pxelinux.0 çš„ bootloader æ–‡ä»¶
  next-server 192.168.16.1;
  filename &quot;pxelinux.0&quot;;
  # ä»¥ä¸‹æ˜¯å­ç½‘å¯é€‰é…ç½®
  option domain-name-servers 192.168.16.250;
  default-lease-time 600;
  max-lease-time 7200;
}

# ä»¥ä¸‹å…¨å±€é…ç½®å¯é€‰ï¼šå¯ç”¨ MAC ç»‘å®šæŸå°ä¸»æœº IP åœ°å€
host clientA{
        hardware ethernet 00:00:00:00:00:AB;ã€€ã€€ã€€ã€€ã€€ã€€
        fixed-address 192.168.16.249;
}
ddns-update-style interim;
</code></pre>
<p>âš ï¸ è‹¥å‡ºç° <code>No subnet declaration for eth</code> åˆ™éœ€è¦æ’æŸ¥å¦‚ä¸‹äº‹é¡¹</p>
<ol>
<li>DHCP æŠ¥é”™æç¤ºçš„ eth ç½‘å¡è‹¥å·²æœ‰ IP åœ°å€åˆ™å…¶ç½‘æ®µå¿…é¡»ä¸ DHCP é…ç½®æ–‡ä»¶åœ¨åŒä¸€ç½‘æ®µï¼ˆå³ eth ç½‘æ®µä¸ DHCP ç½‘æ®µç›¸åŒï¼‰ã€‚</li>
<li>è‹¥ eth ç½‘å¡æœªåˆ†é…æœ‰ IP åœ°å€æˆ–æœªå¼€å¯ï¼Œè¯·åŠ¡å¿…å…ˆå¼€å¯å¹¶æ‰‹åŠ¨åˆ†é…ï¼ŒåŒæ—¶ç¡®ä¿ä¸º static çš„æ–¹å¼å¯åŠ¨ï¼Œæ‰èƒ½å¯åŠ¨ dhcpd æœåŠ¡ã€‚</li>
<li>ä½¿ç”¨ Vmware è™šæ‹Ÿæœºæ—¶ï¼Œéœ€è¦æ³¨æ„ DHCP é…ç½®çš„ subnet åœ¨ eth0 ç½‘å¡ IP æ‰€åœ¨ç½‘æ®µï¼Œå¹¶ä¸” eth0 ä¸èƒ½æ˜¯ hostonlyï¼Œå¯ä»¥æ˜¯æ¡¥æ¥æ¨¡å¼æˆ– NAT æ¨¡å¼ã€‚å’Œã€Œ1ã€ç›¸åŒï¼Œä¹Ÿæ˜¯ç½‘æ®µé—®é¢˜ã€‚</li>
</ol>
<p>å¯åŠ¨ DHCP æœåŠ¡</p>
<pre><code class="language-shell"># å¦‚æœ‰éœ€è¦å¯è®¾ç½®å¼€æœºè‡ªå¯
systemctl start dhcpd &amp;&amp; systemctl enable dhcpd
</code></pre>
<p>éªŒè¯</p>
<pre><code>å¯ä½¿ç”¨ dhclient å·¥å…·æµ‹è¯• DHCP æœåŠ¡ï¼Œäº¦å¯æŸ¥çœ‹ IP ç§Ÿçº¦ä¿¡æ¯
cat /var/lib/dhcpd/dhcpd.leases
</code></pre>
<h3 id="2-ç½‘ç»œç³»ç»Ÿé•œåƒ-yum-æº-httpftpnfs-ä¸‰é€‰ä¸€-">2. ç½‘ç»œç³»ç»Ÿé•œåƒ YUM æºï¼ˆ HTTPã€FTPã€NFS ä¸‰é€‰ä¸€ ï¼‰</h3>
<p>åœ¨æœ¬æ–‡ä¸­å»ºè®®ä½¿ç”¨ HTTP ä½œä¸ºç³»ç»Ÿ YUM çš„æä¾›æ–¹å¼ï¼Œä¸€ä¸ªæ˜¯ä½œä¸º PXE å®‰è£…ä½¿ç”¨ï¼Œå¦ä¸€ä¸ªå¯ä½œä¸ºç³»ç»Ÿå®‰è£…å®Œæˆåçš„ç³»ç»Ÿæœ¬åœ° YUM æºä½¿ç”¨ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥åœ¨è¯¥å° HTTP æœåŠ¡å™¨ä¸Šæä¾›å¤šä¸ªç³»ç»Ÿç‰ˆæœ¬çš„ YUM æºã€‚</p>
<h4 id="http">HTTP</h4>
<p>å®‰è£… HTTP æœåŠ¡</p>
<pre><code class="language-shell">yum install -y httpd
</code></pre>
<p>æ·»åŠ ç³»ç»Ÿå…‰ç›˜é•œåƒï¼Œâš ï¸ å¯æ·»åŠ å¤šä¸ªå®‰è£…å…‰ç›˜ï¼ŒHTTP æœåŠ¡é»˜è®¤æŠŠ <code>/var/www/html</code> ä½œä¸ºæ–‡ä»¶ç½‘ç«™æ ¹ç›®å½•</p>
<pre><code class="language-shell"># é»˜è®¤å°†ç³»ç»Ÿ OS å®‰è£…å…‰ç›˜ä¸Šä¼ è‡³æ–‡ä»¶å¤¹ /opt/mirror å¯å®‰è£… lrzsz ç”¨äºä¸Šä¼ æ–‡ä»¶
mkdir -p /opt/mirror &amp;&amp; cd /opt/mirror &amp;&amp; rz $OS_VERSION
# è®¾ç½®å¼€æœºè‡ªåŠ¨æŒ‚è½½è‡³æ–‡ä»¶å¤¹ /var/www/html/$OS_VERSION
mkdir -p /var/www/html/centos77 &amp;&amp; vi /etc/fstab
# æ–‡ä»¶æœ«å°¾æ·»åŠ è‡ªåŠ¨æŒ‚è½½é…ç½®
/opt/mirror/centos77.iso /var/www/html/centos77 iso9660 defaults 0 0
# æŒ‚è½½é•œåƒæ–‡ä»¶ï¼Œå¹¶æ£€æŸ¥
mount -a &amp;&amp; ls /var/www/html/centos77
</code></pre>
<p>ğŸ”˜ é…ç½® HTTP æœåŠ¡ï¼Œè®¾ç½® <code>ï½/var/www/html/$OS_VERSION</code> æ–‡ä»¶å¤¹æµè§ˆå™¨å¯ç›®å½•å±•ç¤º</p>
<pre><code class="language-shell"># è‹¥å¦‚ä¸Šé…ç½®å®Œæ¯•ï¼Œæ­¤å¤„æ— éœ€ä¿®æ”¹
# å¼€å¯ autoindex æ¨¡å—ï¼Œé»˜è®¤ä¸ºå¼€å¯çŠ¶æ€ï¼Œæ³¨æ„æ£€æŸ¥
# è‹¥é…ç½®ä¸ºå…¶ä»–æ–‡ä»¶å¤¹ä½œä¸º HTTP YUM æä¾›ç›®å½•ï¼Œåˆ™éœ€è¦é…ç½®å¯¹åº”ç›®å½•ï¼Œé»˜è®¤æ˜¯ä¸éœ€è¦é…ç½®çš„ï¼Œé…ç½®æ—¶æ³¨æ„æ–‡ä»¶å¤¹è®¿é—®æƒé™
</code></pre>
<p>å¯åŠ¨ HTTP æœåŠ¡åŒæ—¶è®¾ç½®å¼€æœºè‡ªå¯</p>
<pre><code class="language-shell">systemctl start httpd &amp;&amp; systemctl enable httpd
</code></pre>
<p>éªŒè¯
æµè§ˆå™¨è®¿é—®:    <a href="http://localhost/centos77">http://localhost/centos77</a></p>
<h3 id="3-tftp-æœåŠ¡å™¨">3. tftp æœåŠ¡å™¨</h3>
<p>å®‰è£… tftp è®¿é—®</p>
<pre><code class="language-shell"># tftp æ˜¯ç”± xinetd è¿™ä¸ª super daemon æ‰€ç®¡ç†çš„
# å› æ­¤è¦å®‰è£… xinetdï¼ŒåŒæ—¶è®¾å®šå¥½ tftp ä¹‹åï¼Œè¦å¯åŠ¨çš„æ˜¯ xinetd;
yum install tftp-server xinetd
</code></pre>
<p>å¯ç”¨ tftp</p>
<pre><code class="language-shell">vi /etc/xinetd.d/tftp
# ä¿®æ”¹å…¶ä¸­å‚æ•°ï¼Œyes æ”¹ä¸º noï¼Œä»¥å¯ç”¨ tftp
disable = no
# âš ï¸ ä»¥ä¸‹æ˜¯ tftp çš„æ ¹ç›®å½•
server_args = -s /var/lib/tftpboot
</code></pre>
<p>å¯åŠ¨ tftp</p>
<pre><code class="language-shell">systemctl start tftp &amp;&amp; systemctl enable tftp
</code></pre>
<p>æ£€éªŒ</p>
<pre><code class="language-shell"># å®‰è£… tftp å®¢æˆ·ç«¯
yum install -y tftp
# åœ¨ tftp çš„æ ¹ç›®å½•åˆ›å»ºæ–‡ä»¶
cd /var/lib/tftpboot &amp;&amp; touch test
# æœ¬åœ°æµ‹è¯•è¿æ¥æ˜¯å¦å¯è®¿é—®ä¸”å¯ä¸‹è½½æ–‡ä»¶
cd ~ &amp;&amp; tftp localhost
# ä»¥ä¸‹å‘½ä»¤åœ¨ tftp å®¢æˆ·ç«¯è¾“å…¥
tftp&gt;get test
tftp&gt;quit
# æŸ¥çœ‹å½“å‰ç›®å½•æ˜¯å¦æœ‰åˆšæ‰ä¸‹è½½çš„ `test` æ–‡ä»¶
</code></pre>
<h3 id="4-åˆ¶ä½œ-bootloader-åŠé…ç½®æ–‡ä»¶">4. åˆ¶ä½œ bootloader åŠé…ç½®æ–‡ä»¶</h3>
<ul>
<li>åˆ›å»º pxelinux.cfg å¯åŠ¨é…ç½®æ–‡ä»¶å¤¹</li>
</ul>
<pre><code class="language-shell">mkdir /var/lib/tftpboot/pxelinux.cfg
</code></pre>
<p>âš ï¸ pxelinux.cfg æ˜¯ä¸ªç›®å½•ï¼Œå¯ä»¥æ”¾ç½®é»˜è®¤çš„å¼€æœºé€‰é¡¹ï¼Œä¹Ÿå¯ä»¥é’ˆå¯¹ä¸åŒçš„å®¢æˆ·ç«¯ä¸»æœºæä¾›ä¸åŒçš„å¼€æœºé€‰é¡¹ã€‚å¯ä»¥åœ¨ pxelinux.cfg ç›®å½•å†…å»ºç«‹ä¸€ä¸ªåä¸º default çš„æ–‡ä»¶æ¥æä¾›é»˜è®¤é€‰é¡¹ã€‚</p>
<ul>
<li>å‡†å¤‡å¯åŠ¨èœå•ï¼Œå¤åˆ¶ <strong>ç³»ç»Ÿå®‰è£…å…‰ç›˜</strong> ä¸‹çš„ <code>isolinux.cfg</code> æ–‡ä»¶ï¼Œä½œä¸ºé»˜è®¤èœå•æ–‡ä»¶</li>
</ul>
<pre><code class="language-shell">cp /$SYSTEM_ISO_MIRROR/isolinux/isolinux.cfg /var/lib/tftpboot/pxelinux.cfg/default
</code></pre>
<p>âš ï¸ isolinux.cfg æ–‡ä»¶ä¸ºç³»ç»Ÿå¯åŠ¨èœå•</p>
<ul>
<li>å‡†å¤‡ bootloader åŠé…ç½®æ–‡ä»¶</li>
</ul>
<pre><code class="language-shell"># bootloader æ‰€éœ€æ–‡ä»¶ç”± syslinux è½¯ä»¶åŒ…æä¾›ï¼Œè¿™é‡Œä¸å»ºè®®ä»ç³»ç»Ÿé•œåƒä¸­è·å¾— bootloader
yum install -y syslinux
# ä» syslinux å¤åˆ¶å‡ ä¸ªå¯åŠ¨æ–‡ä»¶è‡³ tftp æ ¹ç›®å½•
cp -a /usr/share/syslinux/{menu.c32,vesamenu.c32,pxelinux.0} /var/lib/tftpboot
</code></pre>
<p>âš ï¸ pxelinux.0 ä¸ºå¯åŠ¨æ“ä½œç³»ç»Ÿçš„æ–‡ä»¶ï¼›menu.c32 è¿™ä¸ªæ˜¯èœå•é£æ ¼ï¼›vesamenu.c32 è¿™ä¸ªæ˜¯å›¾åƒé£æ ¼</p>
<ul>
<li>å‡†å¤‡è®¡ç®—æœºå¯åŠ¨æ‰€éœ€çš„å†…æ ¸æ–‡ä»¶å’Œè™šæ‹Ÿæ ¹æ–‡ä»¶</li>
</ul>
<pre><code class="language-shell">cp/misc/cd/isolinux/{vmlinuz,initrd.img} /var/lib/tftpboot/
</code></pre>
<ul>
<li>â—ï¸ æœ€åæ–‡ä»¶ç»“æ„ä¸º</li>
</ul>
<pre><code>tree /var/lib/tftpboot
|__initrd.img # è™šæ‹Ÿæ ¹æ–‡ä»¶
|__menu.32c # èœå•é£æ ¼
|__pexlinux.0 # å¯åŠ¨æ“ä½œç³»ç»Ÿçš„æ–‡ä»¶
|__pxelinux.cfg # æ”¾ç½®é»˜è®¤çš„å¼€æœºé€‰é¡¹
|  |__default # å³ isolinux.cfg ç³»ç»Ÿå¯åŠ¨èœå•
|__vesamenu.32c # å›¾åƒé£æ ¼
|__vmlinuz # å†…æ ¸æ–‡ä»¶
</code></pre>
<ul>
<li>â—ï¸ default æ–‡ä»¶é…ç½®ä¿®æ”¹ï¼Œéœ€æ·»åŠ æˆ–ä¿®æ”¹æˆå¦‚ä¸‹å†…å®¹</li>
</ul>
<pre><code>label linux
  menu label^Install CentOS 7
  menu default
  kernel vmlinuz
  append initrd=initrd.img inst.repo=http://192.168.16.1/centos77 inst.ks=http://192.168.16.1/ks.cfg quiet
</code></pre>
<ul>
<li>â—ï¸ ks æ–‡ä»¶é…ç½®ä¿®æ”¹</li>
</ul>
<pre><code>cdrom
# æ”¹ä¸º
url --url=&quot;http://192.168.16.1/centos77&quot;
</code></pre>
<h3 id="5-å…‰ç›˜éƒ¨åˆ†æ–‡ä»¶ä»‹ç»">5. å…‰ç›˜éƒ¨åˆ†æ–‡ä»¶ä»‹ç»</h3>
<p>isolinux/boot.catï¼šè¿™ä¸ªæ–‡ä»¶ä½œç”¨æ˜¯ç±»å‹MBRï¼ˆMain Boot Recordï¼‰ï¼Œè´Ÿè´£ç£ç›˜æ“ä½œç³»ç»Ÿ(DOS)å¯¹ç£ç›˜è¿›è¡Œè¯»å†™æ—¶åˆ†åŒºåˆæ³•æ€§çš„åˆ¤åˆ«ã€åˆ†åŒºå¼•å¯¼ä¿¡æ¯çš„å®šä½ï¼Œå¯åŠ¨çš„stage1.</p>
<p>isolinux/isolinux.bin,è´Ÿè´£å…‰ç›˜çš„stage2,ä¹Ÿæ˜¯äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä½œç”¨ç±»ä¼¼grubçš„ç¬¬äºŒé˜¶æ®µ</p>
<p>isolinuz/vmlinuzï¼šæ˜¯linuxçš„å†…æ ¸ï¼Œç›¸å½“äºæ˜¯ä¸€ä¸ªå°çš„linuxç³»ç»Ÿ</p>
<p>isolinuz/initrd.imgï¼Œä¸€èˆ¬è¢«ç”¨æ¥ä¸´æ—¶çš„å¼•å¯¼ç¡¬ä»¶åˆ°å®é™…å†…æ ¸vmlinuzèƒ½å¤Ÿæ¥ç®¡å¹¶ç»§ç»­å¼•å¯¼çš„çŠ¶æ€</p>
<p>isolinux/isolinux.cfgï¼šè¿™ä¸ªæ˜¯å…‰ç›˜å¯åŠ¨æ—¶çš„èœå•æ–‡ä»¶ï¼Œèœå•çš„é£æ ¼æ˜¯æ–‡ä»¶vesamenu.c32.åœ¨isolinux.cfgé‡Œæœ‰è°ƒç”¨ï¼Œè¯¥æ–‡ä»¶é‡Œè¿˜æŒ‡å®šäº†å†…æ ¸isolinuz/vmlinuzå’Œisolinuz/initrd.imgçš„è·¯å¾„ï¼Œå‘å†…æ ¸ä¼ é€’å‚æ•°ï¼šappend initrd=initrd.imgï¼Œè¿™æ®µå‚æ•°å¯ä»¥è‡ªå·±å®šåˆ¶ï¼Œå¦‚åœ¨åé¢åŠ text,å°±ä¼šå®ç°å­—ç¬¦ç•Œé¢å®‰è£…ï¼Œè¿™ä¸ªç”¨äºè‡ªåŠ¨åŒ–å®‰è£…ï¼Œä¸é€‚åˆäºæ‰‹åŠ¨å®‰è£…ï¼Œé¼ æ ‡ç‚¹ä¸äº†çš„ã€‚å­—ç¬¦ç•Œé¢ä¸€èˆ¬ç”¨äºè‡ªåŠ¨åŒ–å®‰è£…ã€‚</p>
<p>åœ¨isolinux.cfgæ–‡ä»¶ä¸­æŒ‡æ˜kickstartæ–‡ä»¶çš„ä½ç½®ï¼Œæœ‰ä»¥ä¸‹å‡ ä¸ªè·¯å¾„è¿›è¡Œè°ƒç”¨è¯¥æ–‡ä»¶ï¼Œå†™æ³•å¦‚ä¸‹</p>
<pre><code>DVD drive:ks=cdrom:/PATH/TO/KICKSTART_FILE
Hard drive:ks=hd:device:/directory/KICKSTART_FILE
HTTP server:ks=http://host:port/path/to/KICKSTART_FILE
FTP server:ks=ftp://host:port/path/to/KICKSTART_FILE
HTTPS server:ks=https://host:port/path/to/KICKSTART_FILE
NFSserver:ks=nfs:host:/path/to/KICKSTART_FILE
</code></pre>
<p>è¯¦ç»†å¯è§: <a href="https://blog.51cto.com/ghbsunny/1969593">https://blog.51cto.com/ghbsunny/1969593</a></p>
<h3 id="6-kskickstartæ–‡ä»¶">6. ksï¼ˆKickstartï¼‰æ–‡ä»¶</h3>
<p>å¦‚ä¸‹ä¸ºç³»ç»Ÿé»˜è®¤ <strong>æœ€å°åŒ–å®‰è£…</strong> æ—¶çš„ ks æ–‡ä»¶ï¼ˆanaconda-ks.cfgï¼‰</p>
<pre><code class="language-shell">#version=DEVEL
# System authorization information
auth --enableshadow --passalgo=sha512
# Use CDROM installation media
cdrom
# Use graphical install
graphical
# Run the Setup Agent on first boot
firstboot --enable

# Keyboard layouts
keyboard --vckeymap=us --xlayouts='us'
# System language
lang en_US.UTF-8

# Network information
network  --bootproto=dhcp --device=enp0s3 --onboot=off --ipv6=auto --no-activate
network  --hostname=localhost.localdomain

# Root password
rootpw --plaintext 123456
# System services
services --disabled=&quot;chronyd&quot;
# System timezone
timezone Asia/Shanghai --isUtc --nontp
# System bootloader configuration
bootloader --location=mbr --boot-drive=sda
autopart --type=lvm
# Partition clearing information
clearpart --none --initlabel

%packages
@^minimal
@core

%end

%addon com_redhat_kdump --disable --reserve-mb='auto'

%end

%anaconda
pwpolicy root --minlen=6 --minquality=1 --notstrict --nochanges --notempty
pwpolicy user --minlen=6 --minquality=1 --notstrict --nochanges --emptyok
pwpolicy luks --minlen=6 --minquality=1 --notstrict --nochanges --notempty
%end
</code></pre>
<p>å¦‚ä¸‹ä¸ºå»ºè®®ä½¿ç”¨çš„ ks æ–‡ä»¶ï¼ˆè¯·è‡ªè¡Œåˆ›å»ºï¼‰</p>
<pre><code class="language-shell">#platform=x86, AMD64, or Intel EM64T
#version=DEVEL
# Install OS instead of upgrade
install
# Keyboard layouts
keyboard 'us'
# Root password
rootpw --plaintext 123456
# System language
lang en_US
# System authorization information
auth  --useshadow  --passalgo=sha512
# Use text mode install
text
# SELinux configuration
selinux --disabled
# Do not configure the X Window System
skipx

# Firewall configuration
firewall --disabled
# Reboot after installation
reboot
# System timezone
timezone Asia/Shanghai
# Use network installation
url --url=&quot;http://192.168.16.1/centos77&quot;
# System bootloader configuration
bootloader --location=mbr
# Clear the Master Boot Record
zerombr
# Partition clearing information
clearpart --all --initlabel
# Disk partitioning information
part /boot --fstype=&quot;xfs&quot; --ondisk=sda --size=1024

%packages
@^minimal
@core
%end
%addon com_redhat_kdump --disable --reserve-mb='auto'
%post
PS1='  \[\033[0;33m\]&gt;\u \[\033[0;37m\]\w\n\[\033[1;32m\][\h]\[\033[01;31m\]\$ \[\033[00m\]'
yum install -y wget unzip ethtool git bind-utils sysstat iptraf lsof tmux tree lrzsz vim man-pages bash-completion dos2unix
%end

</code></pre>
<h3 id="ä¸€é”®-pxe">ä¸€é”® PXE</h3>
<pre><code class="language-shell">#!/bin/bash
restart_DHCPd()Â {
serviceÂ DHCPdÂ restartÂ &amp;&gt;/dev/null;
chkconfigÂ DHCPdÂ onÂ &amp;&gt;/dev/null;
}
restart_tftpÂ ()Â {
sedÂ -iÂ 's/disable.*/disbleÂ =Â no/g'Â /etc/xinetd.d/tftpÂ &amp;&gt;/dev/null;
chkconfigÂ tftpÂ onÂ &amp;&gt;/dev/null;
serviceÂ xinetdÂ restartÂ &amp;&gt;/dev/null;
}
restart_httpd(){
serviceÂ httpdÂ restartÂ &amp;&gt;/dev/null;
chkconfigÂ httpdÂ onÂ &amp;&gt;/dev/null;
}
min_timeÂ ()Â {
time=`dateÂ +%Y%m%d%H%M`
}
ip=$(ifconfigÂ Â |Â awkÂ '/inetÂ /{printÂ $2}'|Â awkÂ -FÂ :Â '{printÂ $NF}'|Â headÂ -1)
min_time;
#installÂ Server
echoÂ &quot;NowÂ installÂ DHCP,http,tftpÂ ServerÂ andÂ tftpÂ Client,itÂ mightÂ takeÂ fewÂ minites&quot;
rpmÂ -qÂ httpdÂ &amp;&gt;/dev/nullÂ &amp;&amp;Â restart_httpdÂ ||Â {Â yumÂ -yÂ installÂ httpdÂ &amp;&gt;/dev/null;restart_httpd;Â }
rpmÂ -qÂ DHCPÂ &amp;&gt;/dev/nullÂ &amp;&amp;Â restart_DHCPdÂ ||Â Â {Â yumÂ -yÂ installÂ DHCP&amp;&gt;/dev/null;restart_DHCPd;Â }
rpmÂ -qÂ tftp-ServerÂ &amp;&gt;/dev/nullÂ &amp;&amp;Â restart_tftpÂ Â ||Â {Â yumÂ -yÂ installÂ tftp-ServerÂ &amp;&gt;/dev/null;restart_tftp;Â }
rpmÂ -qÂ tftpÂ &amp;&gt;/dev/nullÂ ||Â yumÂ -yÂ installÂ tftpÂ &amp;&gt;/dev/null;
#ForÂ centosÂ 6.9,fileÂ PXELinux.0Â comesÂ fromÂ packgesÂ sysLinux-nonLinux,otherÂ versionÂ isÂ fromÂ sysLinux,butÂ ifÂ youÂ installÂ packgeÂ sysLinux,itÂ willÂ alsoÂ installÂ sysLinux-nonLinuxÂ packge,soÂ justÂ installÂ sysLinuxÂ packgeÂ isÂ OKÂ toÂ getÂ fileÂ sysLinux-nonLinux.
rpmÂ -qÂ sysLinuxÂ &amp;&gt;/dev/nullÂ ||Â yumÂ -yÂ installÂ sysLinuxÂ &amp;&gt;/dev/null;
#setÂ httpÂ forÂ yumÂ Server
#mountÂ yumÂ source
echoÂ &quot;NowÂ youÂ needÂ toÂ configÂ Â yumÂ ServerÂ inÂ httpÂ Server&quot;
echoÂ &quot;SinceÂ IÂ doÂ notÂ knowÂ whichÂ differentÂ discÂ yourÂ discÂ willÂ beÂ displayed,suchÂ as,centos7Â displayÂ asÂ /dev/sr0,orÂ displayÂ as/dev/sr1Â orÂ otherÂ deviceÂ &quot;
echoÂ &quot;ThisÂ time,IÂ haveÂ threeÂ disks,6i386Â meansÂ 386Â archÂ forÂ ceentos6.5,6x86_64Â meansÂ 64bitÂ forÂ centos6.9,7Â meansÂ centos7.3&quot;
echoÂ &quot;theÂ relationÂ ofÂ myÂ diskÂ Â dislayÂ inÂ theÂ centosÂ asÂ below&quot;
echoÂ -eÂ &quot;/dev/sr0Â ---&gt;Â 6x86_64Â \n/dev/sr1Â ---&gt;Â 6i386Â \n/dev/sr2Â ---&gt;Â 7&quot;
mkdirÂ -pÂ /var/www/html/os/{6i386,6x86_64,7}
readÂ -pÂ &quot;WouldÂ youÂ wantÂ toÂ mountÂ diskÂ auto:(eg:y/n):Â &quot;Â automount
caseÂ $automountÂ in
y)
echoÂ -eÂ &quot;/dev/sr0Â ---&gt;Â 6x86_64Â \n/dev/sr1Â ---&gt;Â 6i386Â \n/dev/sr2Â ---&gt;Â 7&quot;
mountÂ /dev/sr0Â Â Â /var/www/html/os/6x86_64
mountÂ /dev/sr1Â Â Â /var/www/html/os/6i386
mountÂ /dev/sr2Â Â Â /var/www/html/os/7
;;
*)
echoÂ &quot;SinceÂ yourÂ answerÂ isÂ noÂ orÂ other,pleaseÂ mountÂ diskÂ afterÂ theÂ scriptÂ end&quot;
echoÂ &quot;eg:Â runÂ Â Â Â mountÂ /dev/sr0Â Â Â /var/www/html/os/6x86_64Â Â &quot;
echoÂ &quot;eg:Â ifÂ yourÂ wantÂ toÂ mountÂ theÂ diskÂ fixed,pleaseÂ writeÂ toÂ /etc/fstab,eg:Â /dev/sr0Â Â Â Â Â Â Â Â /var/www/html/os/6x86_64Â Â Â Â Â Â iso9660Â Â Â Â defaultsÂ Â Â Â Â Â Â Â 0Â 0Â &quot;
;;
esac
#prepareÂ ksÂ fileÂ inÂ /var/www/html/ksdir
echoÂ &quot;IfÂ yourÂ haveÂ putÂ ksÂ fileÂ inÂ otherÂ hosts,yourÂ shouldÂ inputÂ remoteÂ ,andÂ inputÂ theÂ remoteÂ fileÂ fullÂ path,andÂ itÂ willÂ useÂ scpÂ âŒ˜Â toÂ copyÂ theÂ ksÂ fileÂ directoryÂ toÂ /var/www/html/ksdir&quot;
echoÂ &quot;IfÂ youÂ putÂ dirÂ inÂ localÂ host,inputÂ local,itÂ willÂ willÂ cpÂ âŒ˜Â toÂ Â copyÂ theÂ ksÂ fileÂ directoryÂ toÂ /var/www/html/ksdir&quot;
echoÂ &quot;ifÂ youÂ inputÂ anyÂ other,youÂ shouldÂ cpÂ ksdirÂ toÂ /var/www/html/ksdir&quot;
readÂ -pÂ &quot;DoÂ youÂ wantÂ toÂ copyÂ remoteÂ ksÂ dir(Â rÂ (remote)Â orÂ lÂ (local)Â orÂ anyÂ otherÂ inputÂ ):Â &quot;Â ifcopy
mkdirÂ -pÂ /var/www/html/ksdir/
caseÂ $ifcopyÂ in
r|remote)
readÂ -pÂ &quot;inputÂ theÂ remoteÂ ksdirÂ directory(defaults:root@172.18.50.75:/var/www/html/ksdir/*):Â &quot;Â ksdir
ifÂ [Â -zÂ ${ksdir:-}Â ];then
ksdir=&quot;root@172.18.50.75:/var/www/html/ksdir/*&quot;
fi
readÂ -pÂ &quot;inputÂ hostÂ user'sÂ passwordÂ youÂ haveÂ put:Â &quot;Â passwd
expectÂ -cÂ &quot;
spawnÂ Â scpÂ Â $ksdirÂ /var/www/html/ksdir/
expectÂ {
\&quot;*assword\&quot;Â {setÂ timeoutÂ 300;Â sendÂ \&quot;$passwd\r\&quot;;Â }
\&quot;yes/no\&quot;Â {Â sendÂ \&quot;yes\r\&quot;;Â exp_continue;Â }
}
expectÂ eof&quot;
lsÂ /var/www/html/ksdirÂ |Â whileÂ readÂ ksfile;Â do
sedÂ -iÂ &quot;s@urlÂ --url=\&quot;http://.*/os/@urlÂ --url=\&quot;http://$ip/os/@g&quot;Â Â /var/www/html/ksdir/$ksfile
done
;;
l|localÂ )
readÂ -pÂ &quot;PleaseÂ inputÂ yourÂ localÂ ksÂ directory(eg:/root/ksdir/*):Â &quot;Â ksdir
cpÂ $ksdirÂ /var/www/html/ksdir/
;;
*)
echoÂ &quot;yourÂ inputÂ isÂ wrong,pleaseÂ manualÂ copyÂ ksdirÂ toÂ /var/www/html/ksdir/&quot;
;;
esac
#configÂ DHCP
echoÂ &quot;NowÂ configÂ DHCPÂ Server...&quot;
readÂ -pÂ &quot;InputÂ yourÂ next-ServerÂ ip(defaultÂ isÂ yourÂ hostÂ ip):Â &quot;Â nextip
ifÂ [Â -zÂ ${nextip:-}Â ];then
nextip=&quot;$ip&quot;
fi
echoÂ nextipÂ isÂ &quot;$nextip&quot;
mvÂ /etc/DHCP/DHCPd.confÂ /etc/DHCP/DHCPd.conf.&quot;$time&quot;.bak
catÂ &gt;/etc/DHCP/DHCPd.conf&lt;
optionÂ domain-nameÂ &quot;sunny.com&quot;;
optionÂ domain-name-ServersÂ 192.168.32.61;
default-lease-timeÂ 86400;
max-lease-timeÂ 86400;
subnetÂ 192.168.32.0Â netmaskÂ 255.255.255.0Â {
rangeÂ 192.168.32.100Â 192.168.32.200;
optionÂ routersÂ 192.168.32.1;
next-ServerÂ $nextip;
filenameÂ &quot;PXELinux.0&quot;;
}
log-facilityÂ local7;
eof
echoÂ &quot;AsÂ default,theÂ DHCPÂ ServerÂ willÂ alocateÂ ipÂ 192.168.32.100--192.168.32.200,dnsÂ ServerÂ isÂ 192.168.32.61,routerÂ isÂ 192.168.32.1,ifÂ youÂ wantÂ toÂ changeÂ theseÂ configÂ ,pleaseÂ runÂ 'vimÂ /etc/DHCP/DHCPd.conf'Â toÂ changeÂ /etc/DHCP/DHCPd.conf&quot;
echoÂ &quot;DHCPÂ isÂ completeÂ configÂ now&quot;
#configÂ tltp
echoÂ &quot;IfÂ youÂ wantÂ toÂ copyÂ LinuxÂ kernelÂ fileÂ toÂ /var/lib/tftpboot/{6i386,6x86_64,7}&quot;
readÂ -pÂ &quot;PleaseÂ inputÂ m(meansÂ manual)Â orÂ aÂ (meansÂ auto):Â &quot;Â copyfile
caseÂ $copyfileÂ in
a)
mkdirÂ -pÂ /var/lib/tftpboot/{6i386,6x86_64,7}
cpÂ /var/www/html/os/6i386/isoLinux/{initrd.img,vmlinuz}Â /var/lib/tftpboot/6i386
cpÂ /var/www/html/os/6x86_64/isoLinux/{initrd.img,vmlinuz}Â /var/lib/tftpboot/6x86_64
cpÂ /var/www/html/os/7/isoLinux/{initrd.img,vmlinuz}Â Â Â /var/lib/tftpboot/7
;;
*)
echoÂ &quot;YourÂ inputÂ isÂ mÂ orÂ otherÂ things&quot;
echoÂ &quot;youÂ shouldÂ doÂ twoÂ thingsÂ afterÂ theÂ scripts&quot;
echoÂ &quot;createÂ directoryÂ underÂ /var/lib/tftpboot/,suchÂ asÂ mkdirÂ /var/lib/tftpboot/6i386&quot;
echoÂ &quot;copyÂ theÂ kernelÂ fileÂ toÂ theÂ relativeÂ dir,suchÂ asÂ cpÂ /var/www/html/os/6i386/isoLinux/{initrd.img,vmlinuz}Â /var/lib/tftpboot/6i386&quot;
echoÂ &quot;IfÂ youÂ hveÂ manyÂ otherÂ yumÂ source,pleaseÂ createÂ relativeÂ dirÂ underÂ /var/lib/tftpboot/6i386&quot;
;;
esac
cpÂ /usr/share/sysLinux/{PXELinux.0,menu.c32}Â /var/lib/tftpboot/
echoÂ &quot;NowÂ configÂ defaultsÂ fileÂ ,youÂ canÂ copyÂ theÂ hostÂ relativeÂ diskÂ fileÂ ,/media/isoLinux/isoLinux.cfgÂ toÂ /var/lib/tftpboot/PXELinux.cfg,andÂ renameÂ itÂ toÂ defaults,andÂ theÂ modifyÂ theÂ config,runÂ âŒ˜Â 'cpÂ /media/isoLinux/isoLinux.cfgÂ /var/lib/tftpboot/Â Â Â Â PXELinux.cfg/default'Â &quot;
echoÂ &quot;NowÂ IÂ willÂ configÂ /var/lib/tftpboot/PXELinux.cfg/default&quot;
mkdirÂ Â /var/lib/tftpboot/PXELinux.cfg
catÂ &gt;Â /var/lib/tftpboot/PXELinux.cfg/default&lt;
defaultÂ menu.c32
#promptÂ 1
timeoutÂ 80
displayÂ boot.msg
menuÂ backgroundÂ splash.jpg
menuÂ titleÂ WelcomeÂ toÂ SunnyÂ diyÂ installÂ Linux!
menuÂ colorÂ borderÂ 0Â #ffffffffÂ #00000000
menuÂ colorÂ selÂ 7Â #ffffffffÂ #ff000000
menuÂ colorÂ titleÂ 0Â #ffffffffÂ #00000000
menuÂ colorÂ tabmsgÂ 0Â #ffffffffÂ #00000000
menuÂ colorÂ unselÂ 0Â #ffffffffÂ #00000000
menuÂ colorÂ hotselÂ 0Â #ff000000Â #ffffffff
menuÂ colorÂ hotkeyÂ 7Â #ffffffffÂ #ff000000
menuÂ colorÂ scrollbarÂ 0Â #ffffffffÂ #00000000
labelÂ desktop73
menuÂ labelÂ InstallÂ diyÂ ^desktopÂ centosÂ 7
menuÂ default
kernelÂ 7/vmlinuz
appendÂ initrd=7/initrd.imgÂ ks=http://$ip/ksdir/ks73desk.cfg
labelÂ mini73
menuÂ labelÂ InstallÂ diyÂ ^miniÂ centosÂ 7
menuÂ default
kernelÂ 7/vmlinuz
appendÂ initrd=7/initrd.imgÂ ks=http://$ip/ksdir/ks73min.cfg
labelÂ desktop6.5
menuÂ labelÂ InstalledÂ d^esktopÂ centosÂ 6.5Â i386
kernelÂ 6i386/vmlinuz
appendÂ initrd=6i386/initrd.imgÂ ks=http://$ip/ksdir/ks65desk.cfg
labelÂ mini6.5
menuÂ labelÂ InstallÂ m^iniÂ centosÂ 6.5Â i386
kernelÂ 6i386/vmlinuz
appendÂ initrd=6i386/initrd.imgÂ ks=http://$ip/ksdir/ks65min.cfg
labelÂ desktop6.9
menuÂ labelÂ InstalledÂ de^sktopÂ centosÂ 6.9
kernelÂ 6x86_64/vmlinuz
appendÂ initrd=6x86_64/initrd.imgÂ ks=http://$ip/ksdir/ks69desk.cfg
labelÂ mini6.9
menuÂ labelÂ InstallÂ mi^niÂ centosÂ 6.9
kernelÂ 6x86_64/vmlinuz
appendÂ initrd=6x86_64/initrd.imgÂ ks=http://$ip/ksdir/ks69min.cfg
eof
echoÂ &quot;tftpÂ isÂ configÂ OK&quot;
#restartÂ Server
echoÂ &quot;nowÂ restartÂ Server&quot;
restart_httpd;
restart_tftp;
restart_DHCPd;
netstatÂ -ntulpÂ |Â grepÂ DHCPdÂ |Â grepÂ :67Â &amp;&gt;/dev/nullÂ &amp;&amp;Â echoÂ &quot;DHCPÂ isÂ running...&quot;Â ||Â echoÂ &quot;DHCPÂ isÂ notÂ run,pleaseÂ check&quot;
netstatÂ -ntulpÂ |Â grepÂ httpdÂ |Â grepÂ :80Â &amp;&gt;/dev/nullÂ &amp;&amp;Â echoÂ &quot;httpÂ isÂ running...&quot;Â ||Â echoÂ &quot;httpÂ isÂ notÂ run,pleaseÂ check&quot;
netstatÂ -ntulpÂ |Â grepÂ xinetdÂ |Â grepÂ 69Â &amp;&gt;/dev/nullÂ &amp;&amp;Â echoÂ &quot;tftpÂ isÂ running...&quot;Â ||Â echoÂ &quot;tftpÂ isÂ notÂ run,pleaseÂ check&quot;
</code></pre>
<h2 id="å®‰è£…æ ¡éªŒåŠæ³¨æ„äº‹é¡¹">å®‰è£…æ ¡éªŒåŠæ³¨æ„äº‹é¡¹</h2>
<ul>
<li>PXE æœåŠ¡å¼€æœºè‡ªå¯</li>
<li>âš ï¸ å½“éœ€è¦å®‰è£…çš„æœåŠ¡å™¨è‡ªåŠ¨å®‰è£…å®Œæ¯•åè®°å¾—å…³é—­ PXE æœåŠ¡ï¼Œå› ä¸ºä¸‡ä¸€å‡ºç°ä¸šåŠ¡ç³»ç»ŸæœåŠ¡å™¨å¼€æœºæ‰¾ä¸åˆ°ç³»ç»Ÿï¼Œè‡ªåŠ¨ä» PXE å¼•å¯¼ï¼Œä¼šè¢«é‡æ–°å®‰è£…æ“ä½œç³»ç»Ÿï¼ˆä» PXE åˆ°è·‘è·¯â€¦â€¦ï¼‰</li>
<li>å› å®‰è£…æ—¶å…³é—­äº†ç³»ç»Ÿé˜²ç«å¢™ï¼Œå¦‚æœ‰éœ€è¦ï¼Œè¯·é‡æ–°å¼€å¯</li>
<li>å› å®‰è£…éœ€è¦é…ç½®çš„ DHCP æœåŠ¡ï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šåœ¨ä¹‹åçš„ä¸šåŠ¡ä¸­å¹¶ä¸ä¼šä½¿ç”¨ PXE çš„ DHCP æœåŠ¡ï¼Œæ³¨æ„æ£€æŸ¥æˆ–å…³é—­æ­¤ DHCP æœåŠ¡</li>
<li>ä½¿ç”¨ PXE è‡ªåŠ¨åŒ–å®‰è£…ç³»ç»Ÿï¼Œæœ€å°å†…å­˜è¦æ±‚ä¸º 2GBï¼Œä½¿ç”¨è™šæ‹Ÿæœºéƒ¨ç½²è¯·æ³¨æ„</li>
</ul>
<h2 id="ä¿®è®¢ä¿¡æ¯">ä¿®è®¢ä¿¡æ¯</h2>
<table>
<thead>
<tr>
<th style="text-align:left">ç‰ˆæœ¬å·</th>
<th style="text-align:left">ä¿®è®¢æ—¥æœŸ</th>
<th style="text-align:left">ä¿®è®¢äºº</th>
<th style="text-align:left">å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">v1.1.2001</td>
<td style="text-align:left">2020-01-13</td>
<td style="text-align:left">NUO</td>
<td style="text-align:left">å»ºç«‹æ–‡æ¡£</td>
</tr>
<tr>
<td style="text-align:left">v1.2.2001</td>
<td style="text-align:left">2020-01-16</td>
<td style="text-align:left">NUO</td>
<td style="text-align:left">æ›´æ–° ks æ–‡ä»¶</td>
</tr>
<tr>
<td style="text-align:left">v1.3.2001</td>
<td style="text-align:left">2020-01-28</td>
<td style="text-align:left">NUO</td>
<td style="text-align:left">æ›´æ–°å…‰ç›˜æ–‡ä»¶è¯´æ˜</td>
</tr>
</tbody>
</table>

    </div>
    <div class="article-footer">
<blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    <li class="post-copyright-link hidden-xs">
      <strong>æœ¬æ–‡é“¾æ¥: </strong>
      <a href="https://blog.standuke.top/2020/01/2020-01-15-pxe-%E9%A2%84%E5%90%AF%E5%8A%A8%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85-legacy-%E4%BC%A0%E7%BB%9F%E5%BC%95%E5%AF%BC%E7%8E%AF%E5%A2%83/" title="PXE é¢„å¯åŠ¨ç¯å¢ƒå®‰è£… - Legacy ä¼ ç»Ÿå¼•å¯¼ç¯å¢ƒ" target="_blank" rel="external">https://blog.standuke.top/2020/01/2020-01-15-pxe-%E9%A2%84%E5%90%AF%E5%8A%A8%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85-legacy-%E4%BC%A0%E7%BB%9F%E5%BC%95%E5%AF%BC%E7%8E%AF%E5%A2%83/</a>
    </li>
    <li class="post-copyright-license">
      <strong>License: </strong>
        <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN</a>
    </li>
  </ul>
</blockquote>

<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="https://www.standuke.top" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="https://blog.standuke.top/avatar.png" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="https://www.standuke.top" target="_blank"><span class="text-dark">Standuke</span><small class="ml-1x">Yunshen Technology Co., Ltd. - SRE Engineer</small></a></h3>
        <div>Focus on Linux Openstack Kubernetes vSphere Photograph Coding</div>
      </div>
    </figure>
  </div>
</div>

    </div>
  </article>
<section id="comments">
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>
</section>

</div><nav class="bar bar-footer clearfix" data-stick-bottom>
    <div class="bar-inner">
        <ul class="pager pull-left">
            <li class="prev">
                <a href="https://blog.standuke.top/2020/01/2020-01-14-markdown-%E6%96%87%E6%A1%A3%E7%BC%96%E5%86%99%E8%AF%AD%E6%B3%95%E6%8C%87%E5%8C%97/" title="Markdown æ–‡æ¡£ç¼–å†™è¯­æ³•æŒ‡åŒ—"><i
                        class="icon icon-angle-left"
                        aria-hidden="true"></i><span>&nbsp;&nbsp;ä¸‹ä¸€ç¯‡</span></a>
            </li>
            <li class="next">
                <a href="https://blog.standuke.top/2020/02/2020-02-17-linux-%E7%B3%BB%E7%BB%9F-systemd-%E6%9C%8D%E5%8A%A1%E7%AE%80%E4%BB%8B%E5%8F%8A%E7%BC%96%E5%86%99/"
                    title="Linux ç³»ç»Ÿ Systemd æœåŠ¡ç®€ä»‹åŠç¼–å†™"><span>ä¸Šä¸€ç¯‡&nbsp;&nbsp;</span><i
                        class="icon icon-angle-right" aria-hidden="true"></i></a>
            </li>
            
            <li class="toggle-toc">
                <a class="toggle-btn collapsed" data-toggle="collapse" href="#collapseToc" aria-expanded="false"
                    title="æ–‡ç« ç›®å½•" role="button">
                    <span>[&nbsp;</span><span>æ–‡ç« ç›®å½•</span>
                    <i class="text-collapsed icon icon-anchor"></i>
                    <i class="text-in icon icon-close"></i>
                    <span>]</span>
                </a>
            </li>
        </ul>
        <div class="bar-right">
            <div class="share-component" data-sites="weibo,qq,wechat,facebook,twitter,google,linkedin"
                data-mobile-sites="wechat,qq,facebook,twitter"></div>
        </div>
    </div>
</nav>


</main><footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
<ul class="social-links">
    <li><a href="https://github.com/idoker" target="_blank" title="github" data-toggle=tooltip data-placement=top >
            <i class="icon icon-github"></i></a></li>
    <li><a href="https://blog.standuke.top/index.xml" target="_blank" title="rss" data-toggle=tooltip data-placement=top >
            <i class="icon icon-rss"></i></a></li>
</ul>
  <div class="copyright">
    &copy;2016  -
    2022
    <div class="publishby">
        Theme by <a href="https://github.com/xiaoheiAh" target="_blank"> xiaoheiAh </a>base on<a href="https://github.com/xiaoheiAh/hugo-theme-pure" target="_blank"> pure</a>.
    </div>
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_SVG"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
            showMathMenu: false, //disables context menu
            tex2jax: {
            inlineMath: [ ['$','$'], ['\\(','\\)'] ]
           }
    });
</script>


<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
<script>
    window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/highlight.min.js"></script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/languages/shell.min.js" defer></script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/languages/python.min.js" defer></script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/languages/javascript.min.js" defer></script><script>
    hljs.configure({
        tabReplace: '    ', 
        classPrefix: ''     
        
    })
    hljs.initHighlightingOnLoad();
</script>
<script src="https://blog.standuke.top/js/application.min.a94ab19cb63a95c8d7fbd7b85cab3ddeea8c369bdf75b9cab6708787ead123af.js"></script>
<script src="https://blog.standuke.top/js/plugin.min.19c5bcb2fb0789ab4f2b7834e5ceb5e92635645605bab902c1024b25f1502364.js"></script>

<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'æ–‡ç« ',
                PAGES: 'é¡µé¢',
                CATEGORIES: 'åˆ†ç±»',
                TAGS: 'æ ‡ç­¾',
                UNTITLED: '(æœªå‘½å)',
            },
            ROOT_URL: 'https:\/\/blog.standuke.top\/',
            CONTENT_URL: 'https:\/\/blog.standuke.top\/\/searchindex.json ',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script type="text/javascript" src="https://blog.standuke.top/js/insight.min.4a2d52de4bfff73e0c688404fe3d17c9a3ae12d9888e1e1ac9c690e4890de2ded50fe55f2b819c2ba55435a76f396f3ea6805765f0b0af5635cdf74ea459eab0.js" defer></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.min.js"></script>
<script>
    tocbot.init({
        
        tocSelector: '.js-toc',
        
        contentSelector: '.js-toc-content',
        
        headingSelector: 'h1, h2, h3',
        
        hasInnerContainers: true,
    });
</script>

<script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script>
    var disqus_config = function () {
        this.page.url = 'https:\/\/blog.standuke.top\/2020\/01\/2020-01-15-pxe-%E9%A2%84%E5%90%AF%E5%8A%A8%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85-legacy-%E4%BC%A0%E7%BB%9F%E5%BC%95%E5%AF%BC%E7%8E%AF%E5%A2%83\/';
        <!-- this.page.identifier = 'nuo'; -->
    };
    (function () {
        var d = document, s = d.createElement('script');
        s.src = '//' + 'nuo' + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-180157250-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  </body>
</html>
